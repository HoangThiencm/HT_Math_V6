<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HT MATH 6 - WEB</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Card Glassmorphism Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15);
        }

        /* Sub-tab styling */
        .sub-tab {
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid transparent;
        }

        .sub-tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .sub-tab.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            font-weight: 600;
        }

        .sub-content {
            display: none;
        }

        .sub-content.active {
            display: block;
        }

        /* File input styling */
        input[type="file"] {
            display: block;
            width: 100%;
            padding: 10px;
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            cursor: pointer;
        }

        input[type="file"]:hover {
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.1);
        }

        /* Button styling */
        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
    </style>
</head>

<body>

    <!-- Header -->
    <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-white mb-2">üéì HT MATH 6 - WEB</h1>
        <p class="text-white/80">C√¥ng c·ª• chuy·ªÉn ƒë·ªïi & x·ª≠ l√Ω t√†i li·ªáu to√°n h·ªçc</p>
    </div>

    <!-- Main Grid: 3 Cards -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl mx-auto">

        <!-- Card 1: OCR Chuy·ªÉn ƒë·ªïi -->
        <div class="glass-card p-6">
            <div class="text-center mb-4">
                <div class="text-5xl mb-3">üìù</div>
                <h2 class="text-2xl font-bold text-white">OCR Chuy·ªÉn ƒë·ªïi</h2>
                <p class="text-white/70 text-sm mt-1">Chuy·ªÉn PDF/·∫¢nh sang LaTeX</p>
            </div>

            <!-- No sub-tabs, direct content -->
            <div class="space-y-4 mt-6">
                <div>
                    <label class="block text-white font-semibold mb-2">üìÅ Ch·ªçn file:</label>
                    <input type="file" id="ocr-file" accept=".pdf,.png,.jpg,.jpeg" />
                </div>

                <div>
                    <label class="block text-white font-semibold mb-2">M√¥ h√¨nh AI:</label>
                    <select id="ocr-model" class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option>gemini-2.5-flash</option>
                        <option>gemini-1.5-flash</option>
                    </select>
                </div>

                <div>
                    <label class="block text-white font-semibold mb-2">Ch·∫ø ƒë·ªô:</label>
                    <select id="ocr-mode" class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="latex">LaTeX (To√°n h·ªçc)</option>
                        <option value="plain">Plain Text (VƒÉn b·∫£n)</option>
                    </select>
                </div>

                <div class="flex items-center gap-2">
                    <input type="checkbox" id="ocr-preview" class="w-4 h-4">
                    <label for="ocr-preview" class="text-white text-sm">üîç Ch·∫ø ƒë·ªô xem tr∆∞·ªõc</label>
                </div>

                <button onclick="handleOCR()" class="btn-primary w-full">
                    <i class="fas fa-magic"></i> Chuy·ªÉn ƒë·ªïi
                </button>

                <div id="ocr-result" class="hidden mt-4 p-4 bg-white/10 rounded max-h-60 overflow-y-auto">
                    <p class="text-white text-sm">K·∫øt qu·∫£ s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y...</p>
                </div>
            </div>
        </div>

        <!-- Card 2: C√¥ng c·ª• PDF -->
        <div class="glass-card p-6">
            <div class="text-center mb-4">
                <div class="text-5xl mb-3">üìÑ</div>
                <h2 class="text-2xl font-bold text-white">C√¥ng c·ª• PDF</h2>
                <p class="text-white/70 text-sm mt-1">X·ª≠ l√Ω & ch·ªânh s·ª≠a PDF</p>
            </div>

            <!-- Sub-tabs -->
            <div class="flex flex-wrap gap-2 mb-4">
                <div class="sub-tab active" onclick="switchPDFTab('split')">
                    <i class="fas fa-cut"></i> C·∫Øt
                </div>
                <div class="sub-tab" onclick="switchPDFTab('merge')">
                    <i class="fas fa-layer-group"></i> Gh√©p
                </div>
                <div class="sub-tab" onclick="switchPDFTab('rotate')">
                    <i class="fas fa-rotate"></i> Xoay
                </div>
                <div class="sub-tab" onclick="switchPDFTab('compress')">
                    <i class="fas fa-compress"></i> N√©n
                </div>
                <div class="sub-tab" onclick="switchPDFTab('watermark')">
                    <i class="fas fa-stamp"></i> Watermark
                </div>
                <div class="sub-tab" onclick="switchPDFTab('toimage')">
                    <i class="fas fa-images"></i> ‚Üí ·∫¢nh
                </div>
                <div class="sub-tab" onclick="switchPDFTab('toword')">
                    <i class="fas fa-file-word"></i> ‚Üí Word
                </div>
                <div class="sub-tab" onclick="switchPDFTab('encrypt')">
                    <i class="fas fa-lock"></i> B·∫£o m·∫≠t
                </div>
            </div>

            <!-- Sub-content -->
            <div id="pdf-split" class="sub-content active">
                <div class="space-y-3">
                    <input type="file" id="pdf-split-file" accept=".pdf" />
                    <select id="pdf-split-mode"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="fixed_pages">S·ªë trang c·ªë ƒë·ªãnh</option>
                        <option value="fixed_files">S·ªë file c·ªë ƒë·ªãnh</option>
                        <option value="custom_ranges">Kho·∫£ng t√πy ch·ªânh</option>
                    </select>
                    <input type="number" id="pdf-split-param" placeholder="S·ªë trang/file"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20" value="10" />
                    <button onclick="handlePDFSplit()" class="btn-primary w-full">
                        <i class="fas fa-cut"></i> C·∫Øt PDF
                    </button>
                </div>
            </div>

            <div id="pdf-merge" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-merge-files" accept=".pdf" multiple />
                    <div id="pdf-merge-list" class="space-y-1"></div>
                    <button onclick="handlePDFMerge()" class="btn-primary w-full">
                        <i class="fas fa-layer-group"></i> Gh√©p PDF
                    </button>
                </div>
            </div>

            <div id="pdf-rotate" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-rotate-file" accept=".pdf" />
                    <select id="pdf-rotate-angle"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="90">Xoay 90¬∞</option>
                        <option value="180">Xoay 180¬∞</option>
                        <option value="270">Xoay 270¬∞</option>
                    </select>
                    <input type="text" id="pdf-rotate-pages" placeholder="Trang (vd: all ho·∫∑c 1,3,5-7)"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20" value="all" />
                    <button onclick="handlePDFRotate()" class="btn-primary w-full">
                        <i class="fas fa-rotate"></i> Xoay PDF
                    </button>
                </div>
            </div>

            <div id="pdf-compress" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-compress-file" accept=".pdf" />
                    <select id="pdf-compress-quality"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="low">N√©n m·∫°nh (Low)</option>
                        <option value="medium" selected>N√©n v·ª´a (Medium)</option>
                        <option value="high">N√©n nh·∫π (High)</option>
                    </select>
                    <button onclick="handlePDFCompress()" class="btn-primary w-full">
                        <i class="fas fa-compress"></i> N√©n PDF
                    </button>
                </div>
            </div>

            <div id="pdf-watermark" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-watermark-file" accept=".pdf" />
                    <input type="text" id="pdf-watermark-text" placeholder="N·ªôi dung watermark"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20" />
                    <button onclick="handlePDFWatermark()" class="btn-primary w-full">
                        <i class="fas fa-stamp"></i> Th√™m Watermark
                    </button>
                </div>
            </div>

            <div id="pdf-toimage" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-toimage-file" accept=".pdf" />
                    <select id="pdf-toimage-dpi"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="150">150 DPI</option>
                        <option value="300" selected>300 DPI</option>
                        <option value="600">600 DPI</option>
                    </select>
                    <button onclick="handlePDFToImages()" class="btn-primary w-full">
                        <i class="fas fa-images"></i> Chuy·ªÉn sang ·∫£nh
                    </button>
                </div>
            </div>

            <div id="pdf-toword" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-toword-file" accept=".pdf" />
                    <button onclick="handlePDFToWord()" class="btn-primary w-full">
                        <i class="fas fa-file-word"></i> Chuy·ªÉn sang Word
                    </button>
                </div>
            </div>

            <div id="pdf-encrypt" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="pdf-encrypt-file" accept=".pdf" />
                    <input type="password" id="pdf-encrypt-password" placeholder="M·∫≠t kh·∫©u"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20" />
                    <select id="pdf-encrypt-mode"
                        class="w-full p-2 rounded bg-white/10 text-white border border-white/20">
                        <option value="encrypt">M√£ h√≥a</option>
                        <option value="decrypt">Gi·∫£i m√£</option>
                    </select>
                    <button onclick="handlePDFEncrypt()" class="btn-primary w-full">
                        <i class="fas fa-lock"></i> Th·ª±c hi·ªán
                    </button>
                </div>
            </div>
        </div>

        <!-- Card 3: C√¥ng c·ª• Word -->
        <div class="glass-card p-6">
            <div class="text-center mb-4">
                <div class="text-5xl mb-3">üìù</div>
                <h2 class="text-2xl font-bold text-white">C√¥ng c·ª• Word</h2>
                <p class="text-white/70 text-sm mt-1">X·ª≠ l√Ω file Word & Excel</p>
            </div>

            <!-- Sub-tabs -->
            <div class="flex flex-wrap gap-2 mb-4">
                <div class="sub-tab active" onclick="switchWordTab('merge')">
                    <i class="fas fa-layer-group"></i> Gh√©p Word
                </div>
                <div class="sub-tab" onclick="switchWordTab('topdf')">
                    <i class="fas fa-file-pdf"></i> ‚Üí PDF
                </div>
                <div class="sub-tab" onclick="switchWordTab('export')">
                    <i class="fas fa-file-excel"></i> Export Excel
                </div>
            </div>

            <!-- Sub-content -->
            <div id="word-merge" class="sub-content active">
                <div class="space-y-3">
                    <input type="file" id="word-merge-files" accept=".docx" multiple />
                    <div id="word-merge-list" class="space-y-1"></div>
                    <button onclick="handleWordMerge()" class="btn-primary w-full">
                        <i class="fas fa-layer-group"></i> Gh√©p Word
                    </button>
                </div>
            </div>

            <div id="word-topdf" class="sub-content">
                <div class="space-y-3">
                    <input type="file" id="images-topdf-files" accept="image/*" multiple />
                    <div id="images-topdf-list" class="space-y-1"></div>
                    <button onclick="handleImagesToPDF()" class="btn-primary w-full">
                        <i class="fas fa-file-pdf"></i> T·∫°o PDF t·ª´ ·∫£nh
                    </button>
                </div>
            </div>

            <div id="word-export" class="sub-content">
                <div class="space-y-3">
                    <textarea id="export-markdown" placeholder="Nh·∫≠p n·ªôi dung Markdown..."
                        class="w-full p-3 rounded bg-white/10 text-white border border-white/20 h-40"></textarea>
                    <button onclick="handleExportWord()" class="btn-primary w-full">
                        <i class="fas fa-file-word"></i> Xu·∫•t Word
                    </button>
                    <button onclick="handleExportExcel()" class="btn-primary w-full">
                        <i class="fas fa-file-excel"></i> Xu·∫•t Excel
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- API URL Config -->
    <script>
        const API_URL = 'http://localhost:8000'; // Change this to your backend URL

        // PDF Tab Switcher
        function switchPDFTab(tabName) {
            document.querySelectorAll('#content-pdf .sub-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('#content-pdf .sub-content').forEach(c => c.classList.remove('active'));

            event.target.closest('.sub-tab').classList.add('active');
            document.getElementById('pdf-' + tabName).classList.add('active');
        }

        // Word Tab Switcher
        function switchWordTab(tabName) {
            document.querySelectorAll('#content-word .sub-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('#content-word .sub-content').forEach(c => c.classList.remove('active'));

            event.target.closest('.sub-tab').classList.add('active');
            document.getElementById('word-' + tabName).classList.add('active');
        }

        // Placeholder handlers - implement these with actual API calls
        function handleOCR() { alert('OCR function - implement API call'); }
        function handlePDFSplit() { alert('PDF Split function'); }
        function handlePDFMerge() { alert('PDF Merge function'); }
        function handlePDFRotate() { alert('PDF Rotate function'); }
        function handlePDFCompress() { alert('PDF Compress function'); }
        function handlePDFWatermark() { alert('PDF Watermark function'); }
        function handlePDFToImages() { alert('PDF to Images function'); }
        function handlePDFToWord() { alert('PDF to Word function'); }
        function handlePDFEncrypt() { alert('PDF Encrypt function'); }
        function handleWordMerge() { alert('Word Merge function'); }
        function handleImagesToPDF() { alert('Images to PDF function'); }
        function handleExportWord() { alert('Export Word function'); }
        function handleExportExcel() { alert('Export Excel function'); }

        // File list display for multi-file uploads
        document.getElementById('pdf-merge-files')?.addEventListener('change', function (e) {
            const list = document.getElementById('pdf-merge-list');
            list.innerHTML = '';
            for (let i = 0; i < e.target.files.length; i++) {
                const div = document.createElement('div');
                div.className = 'text-white/80 text-sm p-2 bg-white/5 rounded';
                div.innerHTML = `${i + 1}. ${e.target.files[i].name}`;
                list.appendChild(div);
            }
        });

        document.getElementById('word-merge-files')?.addEventListener('change', function (e) {
            const list = document.getElementById('word-merge-list');
            list.innerHTML = '';
            for (let i = 0; i < e.target.files.length; i++) {
                const div = document.createElement('div');
                div.className = 'text-white/80 text-sm p-2 bg-white/5 rounded';
                div.innerHTML = `${i + 1}. ${e.target.files[i].name}`;
                list.appendChild(div);
            }
        });
    </script>

</body>

</html>
